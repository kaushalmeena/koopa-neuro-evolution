(()=>{"use strict";var e={424:(e,t,r)=>{r.d(t,{Z:()=>f});var n=r(645),i=r.n(n),a=r(667),o=r.n(a),s=r(684),c=i()((function(e){return e[1]})),l=o()(s);c.push([e.id,'@font-face {\n  font-family: "PressStart2P";\n  src: url('+l+");\n}\n\nhtml,\nbody {\n  background-color: #272b30;\n  margin: 0;\n}\n\n#github {\n  position: absolute;\n  top: 0;\n  right: 0;\n}\n\n#canvas {\n  max-width: 500px;\n  width: 100%;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n}\n",""]);const f=c},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(n)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(i[o]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);n&&i[c[0]]||(r&&(c[2]?c[2]="".concat(r," and ").concat(c[2]):c[2]=r),t.push(c))}},t}},667:e=>{e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},379:(e,t,r)=>{var n,i=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),a=[];function o(e){for(var t=-1,r=0;r<a.length;r++)if(a[r].identifier===e){t=r;break}return t}function s(e,t){for(var r={},n=[],i=0;i<e.length;i++){var s=e[i],c=t.base?s[0]+t.base:s[0],l=r[c]||0,f="".concat(c," ").concat(l);r[c]=l+1;var u=o(f),d={css:s[1],media:s[2],sourceMap:s[3]};-1!==u?(a[u].references++,a[u].updater(d)):a.push({identifier:f,updater:v(d,t),references:1}),n.push(f)}return n}function c(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var a=r.nc;a&&(n.nonce=a)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var o=i(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var l,f=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function u(e,t,r,n){var i=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=f(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function d(e,t,r){var n=r.css,i=r.media,a=r.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var p=null,h=0;function v(e,t){var r,n,i;if(t.singleton){var a=h++;r=p||(p=c(t)),n=u.bind(null,r,a,!1),i=u.bind(null,r,a,!0)}else r=c(t),n=d.bind(null,r,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var r=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<r.length;n++){var i=o(r[n]);a[i].references--}for(var c=s(e,t),l=0;l<r.length;l++){var f=o(r[l]);0===a[f].references&&(a[f].updater(),a.splice(f,1))}r=c}}}},684:(e,t,r)=>{e.exports=r.p+"5f45b52192a301cb8ccd.ttf"},832:(e,t,r)=>{e.exports=r.p+"edb30e59a0a192144da5.png"},903:(e,t,r)=>{e.exports=r.p+"6ff1bb526c5f53603f5f.png"},197:(e,t,r)=>{e.exports=r.p+"3282f18a9f5fbb412a27.png"},722:(e,t,r)=>{e.exports=r.p+"9c9cf8b15326b0e424b0.png"},987:(e,t,r)=>{e.exports=r.p+"a3561cc01dc44644ee84.png"},946:(e,t,r)=>{e.exports=r.p+"434e99b0ae1ebbed72bb.png"},105:(e,t,r)=>{e.exports=r.p+"7bdfa3713f4ba94f26d3.png"},893:(e,t,r)=>{e.exports=r.p+"ed9f20b785526dc26bb2.png"},355:(e,t,r)=>{e.exports=r.p+"295677352f3d91f36f24.png"}},t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={id:n,exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.p="",(()=>{var e=document.getElementById("canvas"),t=e.getContext("2d");function n(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function i(e){var t;return Array.isArray(e)&&(t=e[n(0,e.length-1)]),t}function a(e,t,r,n,i,a){return e>r&&e<r+i&&t>n&&t<n+a}function o(e,t,r){return(e-t)/(r-t)}function s(e){return JSON.parse(JSON.stringify(e))}var c,l,f,u,d,p=r(832),h=r(903),v=r(197),g=r(722),b=r(987),y=r(946),m=r(105),w=r(893),x=r(355);function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=new Image;O.src=p;var T=new Image;T.src=h;var N=new Image;N.src=v;var I=new Image;I.src=y;var A=new Image;A.src=m;var P=new Image;P.src=g;var H=new Image;H.src=b;var B=new Image;B.src=w;var E=new Image;E.src=x;var M=(S(c={},1,O),S(c,2,T),S(c,3,N),c),R=(S(l={},1,I),S(l,2,A),l),k=(S(d={},2,(S(f={},1,P),S(f,2,H),f)),S(d,1,(S(u={},1,B),S(u,2,E),u)),d);function C(){var e={};if((arguments.length<=0?void 0:arguments[0])instanceof Object){var t=arguments.length<=0?void 0:arguments[0];e.rows=t.rows,e.cols=t.cols,e.data=t.data}else e.rows=arguments.length<=0?void 0:arguments[0],e.cols=arguments.length<=1?void 0:arguments[1],e.data=new Array(e.rows).fill().map((function(){return new Array(e.cols).fill(0)}));return e}function j(e,t){if(t instanceof Object){if(e.cols!==t.rows)throw Error("Columns of A must match rows of B");return J(C(e.rows,t.cols),(function(r,n,i){for(var a=0,o=0;o<e.cols;o++)a+=e.data[n][o]*t.data[o][i];return a}))}return J(C(e.rows,e.cols),(function(r,n,i){return e.data[n][i]*t}))}function D(e,t){if(t instanceof Object){if(e.rows!==t.rows||e.cols!==t.cols)throw Error("Columns and Rows of A must match Columns and Rows of B");return J(C(e.rows,t.cols),(function(r,n,i){return e.data[n][i]+t.data[n][i]}))}return J(C(e.rows,e.cols),(function(r,n,i){return e.data[n][i]+t}))}function U(e){return J(e,(function(){return 2*Math.random()-1}))}function J(e,t){for(var r=0;r<e.rows;r++)for(var n=0;n<e.cols;n++){var i=e.data[r][n];e.data[r][n]=t(i,r,n)}return e}function L(){var e={};if((arguments.length<=0?void 0:arguments[0])instanceof Object){var t=arguments.length<=0?void 0:arguments[0];e.inputNodes=t.inputNodes,e.hiddenNodes=t.hiddenNodes,e.outputNodes=t.outputNodes,e.weightsIH=t.weightsIH,e.weightsHO=t.weightsHO,e.biasH=t.biasH,e.biasO=t.biasO}else e.inputNodes=arguments.length<=0?void 0:arguments[0],e.hiddenNodes=arguments.length<=1?void 0:arguments[1],e.outputNodes=arguments.length<=2?void 0:arguments[2],e.weightsIH=C(e.hiddenNodes,e.inputNodes),e.weightsHO=C(e.outputNodes,e.hiddenNodes),e.biasH=C(e.hiddenNodes,1),e.biasO=C(e.outputNodes,1),e.weightsIH=U(e.weightsIH),e.weightsHO=U(e.weightsHO),e.biasH=U(e.biasH),e.biasO=U(e.biasO);return e}function _(e,t){if(e.inputNodes!==t.inputNodes||e.hiddenNodes!==t.hiddenNodes||e.outputNodes!==t.outputNodes)throw Error("Number of nodes in A and B must match");return L({weightsIH:J(e.weightsIH,(function(e,r,n){return i([e,t.weightsIH.data[r][n]])})),weightsHO:J(e.weightsHO,(function(e,r,n){return i([e,t.weightsHO.data[r][n]])})),biasH:J(e.biasH,(function(e,r,n){return i([e,t.biasH.data[r][n]])})),biasO:J(e.biasO,(function(e,r,n){return i([e,t.biasO.data[r][n]])})),inputNodes:e.inputNodes,hiddenNodes:e.hiddenNodes,outputNodes:e.outputNodes})}function F(e){return 1/(1+Math.exp(-e))}function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.x,r=e.y,n=e.dy,i=e.color,a=e.wing,o=e.brain,c={};return c.color=i||2,c.wing=a||2,c.x=t||50,c.y=r||50,c.dy=n||0,c.brain=o?s(o):L(5,8,2),c.distance=0,c.fitness=0,c}function G(e){e.dy+=.25,e.y+e.dy>0&&(e.y+=e.dy),e.distance+=1}function Q(e){t.drawImage(k[e.color][e.wing],e.x,e.y,28,42)}function Y(t,r){for(var n=null,i=Number.POSITIVE_INFINITY,a=0;a<r.length;a++){var s=r[a].x-t.x;s>0&&s<i&&(i=s,n=r[a])}if(null!=n){var c=[],l=n.x-t.x,f=n.y-t.y;c[0]=o(t.y,0,e.height),c[1]=1-c[0],c[2]=o(l,0,e.width),c[3]=2===n.type?c[0]:o(f+272,0,e.height),c[4]=2===n.type?o(f,0,e.height):c[1];var u=function(e,t){var r,n=J(C((r=t).length,1),(function(e,t){return r[t]})),i=j(e.weightsIH,n);i=J(i=D(i,e.biasH),F);var a=j(e.weightsHO,i);return function(e){for(var t=[],r=0;r<e.rows;r++)for(var n=0;n<e.cols;n++)t.push(e.data[r][n]);return t}(a=J(a=D(a,e.biasO),F))}(t.brain,c);u[1]>u[0]&&Z(t)}}function Z(e){e.dy=-5,e.wing=1,setTimeout((function(){e.wing=2}),80)}function q(e){return Math.random()<.1?e+.5*Math.random():e}function $(t){if(t.y>e.height+10)return!0;for(var r=0;r<W.pipes.length;r++)if(n=t.x+4,i=t.y+4,24,38,a=W.pipes[r].x,o=W.pipes[r].y,32,272,!(n+24<a||a+32<n||i+38<o||o+272<i))return!0;var n,i,a,o;return!1}function K(e){switch(e){case 1:W.activeScreen=2;break;case 2:X(),W.activeScreen=2;break;case 5:X(),W.activeScreen=1;break;case 3:W.activeScreen=4;break;case 4:W.activeScreen=2;break;case 7:t=JSON.stringify(W),localStorage.setItem("state",t),alert("State successfully saved!");break;case 6:!function(){var e=localStorage.getItem("state");e?(W=JSON.parse(e),alert("State successfully loaded!")):alert("State was not found!")}();break;case 8:W.mode=1===W.mode?2:1;break;case 9:Z(W.playerBird)}var t}var W={score:0,generation:1,bestScore:localStorage.getItem("bestScore")||0,bestDistance:0,mode:1,activeScreen:1,playerBird:V(),liveBirds:function(){for(var e=[],t=0;t<500;t++){var r=V({color:1});e.push(r)}return e}(),deadBirds:[],clouds:[],pipes:[]};function X(){W.score=0,W.playerBird.x=50,W.playerBird.y=50,W.playerBird.dy=0,W.clouds=[],W.pipes=[]}function z(e){e.x-=1}function ee(e){e.x-=2}function te(e){return function(e){if(Array.isArray(e))return re(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?re(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const ne=function(){var r;t.fillStyle="#3cbcfc",t.fillRect(0,0,e.width,e.height),function(){if(W.clouds.length<5){var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.x,a=t.y,o=t.type,s={};return s.x=r||e.width+n(10,500),s.y=a||n(30,e.height-30),s.type=o||i([1,2,3]),s}();W.clouds.push(r)}for(var a=0;a<W.clouds.length;a++)o=W.clouds[a],t.drawImage(M[o.type],o.x,o.y),z(W.clouds[a]),W.clouds[a].x<-50&&W.clouds.splice(a,1);var o}(),function(){if(W.pipes.length<5){var r=void 0;W.pipes.length>0&&(r=W.pipes[W.pipes.length-1].x+n(200,400));var a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.x,a=t.y,o=t.type,s={};if(s.type=o||i([1,2]),s.x=r||e.width+n(10,500),a)s.y=a;else{var c=2===s.type?e.height-272:-100,l=2===s.type?e.height-172:0;s.y=n(c,l)}return s}({x:r});W.pipes.push(a)}for(var o=0;o<W.pipes.length;o++)s=W.pipes[o],t.drawImage(R[s.type],s.x,s.y),ee(W.pipes[o]),W.pipes[o].x<-50&&(W.score+=1,W.pipes.splice(o,1));var s}(),t.font="14px PressStart2P",t.fillStyle="white",t.fillText("SCORE:".concat(W.score),10,10),t.font="14px PressStart2P",t.fillStyle="#f7dc6f",t.fillText("PAUSE",420,10),1===W.mode?(Q(W.playerBird),G(W.playerBird),$(W.playerBird)&&(W.activeScreen=3,W.score>W.bestScore&&(r=W.score,W.bestScore=r,localStorage.setItem("bestScore",r)))):(t.font="14px PressStart2P",t.fillStyle="white",t.fillText("BEST-DISTANCE:".concat(W.bestDistance),10,26),t.fillText("GENERATION:".concat(W.generation),10,42),t.fillText("ALIVE:".concat(W.liveBirds.length,"/").concat(500),10,58),function(){for(var e=0;e<W.liveBirds.length;e++){var t;Q(W.liveBirds[e]),G(W.liveBirds[e]),Y(W.liveBirds[e],W.pipes),$(W.liveBirds[e])&&(t=W.deadBirds).push.apply(t,te(W.liveBirds.splice(e,1))),0===W.liveBirds.length&&(W.generation+=1,W.bestDistance=Math.max.apply(Math,te(W.deadBirds.map((function(e){return e.distance}))).concat([W.bestDistance])),W.liveBirds=(function(e){for(var t=0;t<e.length;t++)e[t].distance=Math.pow(e[t].distance,2);for(var r=0,n=0;n<e.length;n++)r+=e[n].distance;for(var i=0;i<e.length;i++)e[i].fitness=e[i].distance/r}(r=W.deadBirds),function(e){for(var t=[],r=0;r<500;r++){var n=(o=i(e),s=i(e),V({brain:_(o.brain,s.brain),color:i([o.color,s.color])}));a=q,function(e,t){e.weightsIH=J(e.weightsIH,t),e.weightsHO=J(e.weightsHO,t),e.biasH=J(e.biasH,t),e.biasO=J(e.biasO,t)}(n.brain,a),t.push(n)}var a,o,s;return t}(function(e){for(var t=[],r=0;r<e.length;r++)for(var n=100*e[r].fitness,i=0;i<n;i++)t.push(e[r]);return t}(r))),W.deadBirds=[],X())}var r}())};var ie=r(379),ae=r.n(ie),oe=r(424);ae()(oe.Z,{insert:"head",singleton:!1}),oe.Z.locals,document.body.onkeyup=function(e){switch(W.activeScreen){case 2:if("Space"==e.code)return K(9);if("Escape"==e.code)return K(3)}},e.onclick=function(t){var r=t.offsetX/e.offsetWidth*e.width,n=t.offsetY/e.offsetHeight*e.height;switch(W.activeScreen){case 1:if(a(r,n,132,230,224,36))return K(8);if(a(r,n,190,300,120,24))return K(1);break;case 2:if(a(r,n,420,10,80,14))return K(3);K(9);break;case 3:if(a(r,n,166,250,168,24))return K(2);if(a(r,n,202,290,96,24))return K(5);break;case 4:if(a(r,n,178,180,144,24))return K(4);if(a(r,n,130,220,240,24))return K(7);if(a(r,n,130,260,240,24))return K(6);if(a(r,n,202,296,96,24))return K(5)}},function r(){switch(W.activeScreen){case 1:t.textBaseline="top",t.fillStyle="#3196ca",t.fillRect(0,0,e.width,e.height),t.fillStyle="white",t.font="72px PressStart2P",t.fillText("NEAT",110,60),t.font="56px PressStart2P",t.fillText("KOOPA",110,128),t.font="28px PressStart2P",t.fillText("PARATROOPA",110,182),t.fillStyle="#f7dc6f",t.font="16px PressStart2P",t.fillText("".concat(1===W.mode?">":" ","STANDARD MODE"),130,230),t.fillText("".concat(2===W.mode?">":" ","TRAINING MODE"),130,250),t.font="24px PressStart2P",t.fillText("START",190,300);break;case 2:ne();break;case 4:t.textBaseline="top",t.fillStyle="#3196ca",t.fillRect(0,0,e.width,e.height),t.fillStyle="white",t.font="44px PressStart2P",t.fillText("PAUSED",118,100),t.fillStyle="#f7dc6f",t.font="24px PressStart2P",t.fillText("RESUME",178,180),t.fillText("SAVE STATE",130,220),t.fillText("LOAD STATE",130,260),t.fillText("QUIT",202,300);break;case 3:t.textBaseline="top",t.fillStyle="#3196ca",t.fillRect(0,0,e.width,e.height),t.fillStyle="white",t.font="44px PressStart2P",t.fillText("GAME OVER",52,100),t.font="16px PressStart2P",t.fillText("YOUR SCORE",58,170),t.fillText(W.score,58,190),t.fillText("BEST SCORE",280,170),t.fillText(W.bestScore,280,190),t.fillStyle="#f7dc6f",t.font="24px PressStart2P",t.fillText("RESTART",166,250),t.fillText("QUIT",202,290)}requestAnimationFrame(r)}()})()})();